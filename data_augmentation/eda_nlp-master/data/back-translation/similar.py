import nltk
from nltk import FreqDist

text1 = "Well, right now I just woke up from a nap. It's kind of weird, but since I moved to Texas, I've been having trouble focusing on things. I remember doing my homework in the tenth grade when the clock struck four and didn't stop until it was finished. Of course it was easier, but I did it anyway. But when I moved here, the homework got a little more demanding and there was a lot more work, so I decided not to spend hours with it and just get through it. But the thing was, I've always been careful in class and I just knew the stuff, and now that I look back, if I had really worked hard and stayed on track for the last two years without getting lazy, I would have been a genius, but hey, that's all right. It's too late to correct the past, but I don't know how to concentrate in the future. The only thing I know is that when people say they live on campus, they can't focus, it's B. S. It would be easier for me there, but unfortunately I live at home, under the watchful eye of my parents and a little annoying sister who only annoys, annoys and annoys. Another thing is, it's just stress going all the way back to school just to go to the library to study. I have to move out, but I don't know how to tell them. Don't get me wrong, I see where they're coming from and why they don't want me to move out, but I need to be gone and on my own. You've given me so much protection, and I'm not afraid. The only thing they ask of me is that I stay clean in my room and help out with business from time to time, but I can't even do that. But I have to. But I have enough money from UT to live in a residential home or an apartment next semester, and I think I'm gonna take advantage of that. But other than that, last night I went to the sixth street and I had an explosion. I haven't been there that long. Now I know why I love Austin so much. When I was living in the VA, I used to go to DC all the time and have fun, but there's so many students running around here at night. I just want to have fun, and I know I'm responsible enough to have fun, but keep my priorities straight. If I live at home, I can't go out without them asking where? With whom? Why? When are you coming back? and all these questions. I wish I could be treated like a responsible person for once, but my sister screwed that up for me. She went crazy when she moved to college and ruined her college career by having too much fun. And that's the ultimate reason they don't want me to go and have fun. But I'm not little anymore, and they can let me go and explore the world, but I'm Indian; with Indian culture, with Indian values. You're against having fun. I mean, in the sense of meeting people, going out with people or celebrating or just having fun. My school is hard enough, but somehow I think that more freedom will put more pressure on me to be better at school, that's what my parents and ultimately I expect of myself. It was fun writing, I don't know if you're taking anything out of this letter, but it helped me put some of my thoughts right. I hope you had fun reading and good luck at the TA's."

text = text1
words = nltk.word_tokenize(text)
freq_dist = FreqDist(words)
print(freq_dist['is'])#is 出现的次数是4

# 取出常用的n=5个单词
n = 5

# 构造“常用单词列表”
most_common_words = freq_dist.most_common(n)
print(most_common_words)#结果：[('movie', 4), ('is', 4), ('a', 4), ('That', 2), ('This', 2)]

def lookup_pos(most_common_words):
    """
        查找常用单词的位置
    """
    result = {}
    pos = 0
    for word in most_common_words:
        result[word[0]] = pos
        pos += 1
    return result

# 记录位置
std_pos_dict = lookup_pos(most_common_words)
print(std_pos_dict)#结果：{'movie': 0, 'is': 1, 'a': 2, 'That': 3, 'This': 4}

# 新文本
new_text = "Well, right now I just woke up from a mid-day nap. It's sort of weird, but ever since I moved to Texas, I have had problems concentrating on things. I remember starting my homework in  10th grade as soon as the clock struck 4 and not stopping until it was done. Of course it was easier, but I still did it. But when I moved here, the homework got a little more challenging and there was a lot more busy work, and so I decided not to spend hours doing it, and just getting by. But the thing was that I always paid attention in class and just plain out knew the stuff, and now that I look back, if I had really worked hard and stayed on track the last two years without getting  lazy, I would have been a genius, but hey, that's all good. It's too late to correct the past, but I don't really know how to stay focused n the future. The one thing I know is that when  people say that b/c they live on campus they can't concentrate, it's b. s. For me it would be easier there, but alas, I'm living at home under the watchful eye of my parents and a little nagging sister that just nags and nags and nags. You get my point. Another thing is, is that it's just a hassle to have to go all the way back to  school to just to go to library to study. I need to move out, but I don't know how to tell them. Don't get me wrong, I see where they're coming from and why they don't  want me to move out, but I need to get away and be on my own. They've sheltered me so much and I don't have a worry in the world. The only thing that they ask me to do is keep my room clean and help out with the business once in a while, but I can't even do that. But I need to. But I got enough money from UT to live at a dorm or apartment  next semester and I think I'll take advantage of that. But off that topic now, I went to sixth street last night and had a blast. I haven't been there in so long. Now I know why I love Austin so much. When I lived in VA, I used to go up to DC all the time and had a blast, but here, there are so many students running around at night. I just want to have some fun and I know that I am responsible enough to be able to  have fun, but keep my priorities straight. Living at home, I can't go out at all without them asking where? with who?  why?  when are you coming back?  and all those  questions. I just wish I could be treated like a responsible person for once, but  my sister screwed that up for me. She went crazy the second she moved into college and messed up her whole college career by partying too much. And that's the ultimate reason that they don't want me to go and have fun. But I'm not little anymore,  and they need to let me go and explore the world, but I'm Indian; with Indian culture, with Indian values. They go against ""having fun. ""  I mean in the sense of meeting people or going out with people or partying or just plain having fun. My school is difficult already, but somehow I think that having more freedom will put more pressure on me to  do better in school b/c that's what my parents and ultimately I expect of myself. Well it's been fun writing, I don't know if you go anything out of this writing, but it helped me get some of my thoughts into order. So I hope you had fun reading it and good luck TA's."

# 初始化向量，储存词频
freq_vec = [0] * n

# 分词
new_words = nltk.word_tokenize(new_text)

# 在“常用单词列表”上计算词频
for new_word in new_words:
    if new_word in list(std_pos_dict.keys()):#如果在之前那个常用词表上
        freq_vec[std_pos_dict[new_word]] += 1

print(freq_vec)#结果：[1, 2, 1, 1, 1]

from nltk.text import TextCollection

text1 = "Well, right now I just woke up from a nap. It's kind of weird, but since I moved to Texas, I've been having trouble focusing on things. I remember doing my homework in the tenth grade when the clock struck four and didn't stop until it was finished. Of course it was easier, but I did it anyway. But when I moved here, the homework got a little more demanding and there was a lot more work, so I decided not to spend hours with it and just get through it. But the thing was, I've always been careful in class and I just knew the stuff, and now that I look back, if I had really worked hard and stayed on track for the last two years without getting lazy, I would have been a genius, but hey, that's all right. It's too late to correct the past, but I don't know how to concentrate in the future. The only thing I know is that when people say they live on campus, they can't focus, it's B. S. It would be easier for me there, but unfortunately I live at home, under the watchful eye of my parents and a little annoying sister who only annoys, annoys and annoys. Another thing is, it's just stress going all the way back to school just to go to the library to study. I have to move out, but I don't know how to tell them. Don't get me wrong, I see where they're coming from and why they don't want me to move out, but I need to be gone and on my own. You've given me so much protection, and I'm not afraid. The only thing they ask of me is that I stay clean in my room and help out with business from time to time, but I can't even do that. But I have to. But I have enough money from UT to live in a residential home or an apartment next semester, and I think I'm gonna take advantage of that. But other than that, last night I went to the sixth street and I had an explosion. I haven't been there that long. Now I know why I love Austin so much. When I was living in the VA, I used to go to DC all the time and have fun, but there's so many students running around here at night. I just want to have fun, and I know I'm responsible enough to have fun, but keep my priorities straight. If I live at home, I can't go out without them asking where? With whom? Why? When are you coming back? and all these questions. I wish I could be treated like a responsible person for once, but my sister screwed that up for me. She went crazy when she moved to college and ruined her college career by having too much fun. And that's the ultimate reason they don't want me to go and have fun. But I'm not little anymore, and they can let me go and explore the world, but I'm Indian; with Indian culture, with Indian values. You're against having fun. I mean, in the sense of meeting people, going out with people or celebrating or just having fun. My school is hard enough, but somehow I think that more freedom will put more pressure on me to be better at school, that's what my parents and ultimately I expect of myself. It was fun writing, I don't know if you're taking anything out of this letter, but it helped me put some of my thoughts right. I hope you had fun reading and good luck at the TA's."

# 构建TextCollection对象
tc = TextCollection([text1])
new_text = "Well, right now I just woke up from a mid-day nap. It's sort of weird, but ever since I moved to Texas, I have had problems concentrating on things. I remember starting my homework in  10th grade as soon as the clock struck 4 and not stopping until it was done. Of course it was easier, but I still did it. But when I moved here, the homework got a little more challenging and there was a lot more busy work, and so I decided not to spend hours doing it, and just getting by. But the thing was that I always paid attention in class and just plain out knew the stuff, and now that I look back, if I had really worked hard and stayed on track the last two years without getting  lazy, I would have been a genius, but hey, that's all good. It's too late to correct the past, but I don't really know how to stay focused n the future. The one thing I know is that when  people say that b/c they live on campus they can't concentrate, it's b. s. For me it would be easier there, but alas, I'm living at home under the watchful eye of my parents and a little nagging sister that just nags and nags and nags. You get my point. Another thing is, is that it's just a hassle to have to go all the way back to  school to just to go to library to study. I need to move out, but I don't know how to tell them. Don't get me wrong, I see where they're coming from and why they don't  want me to move out, but I need to get away and be on my own. They've sheltered me so much and I don't have a worry in the world. The only thing that they ask me to do is keep my room clean and help out with the business once in a while, but I can't even do that. But I need to. But I got enough money from UT to live at a dorm or apartment  next semester and I think I'll take advantage of that. But off that topic now, I went to sixth street last night and had a blast. I haven't been there in so long. Now I know why I love Austin so much. When I lived in VA, I used to go up to DC all the time and had a blast, but here, there are so many students running around at night. I just want to have some fun and I know that I am responsible enough to be able to  have fun, but keep my priorities straight. Living at home, I can't go out at all without them asking where? with who?  why?  when are you coming back?  and all those  questions. I just wish I could be treated like a responsible person for once, but  my sister screwed that up for me. She went crazy the second she moved into college and messed up her whole college career by partying too much. And that's the ultimate reason that they don't want me to go and have fun. But I'm not little anymore,  and they need to let me go and explore the world, but I'm Indian; with Indian culture, with Indian values. They go against ""having fun. ""  I mean in the sense of meeting people or going out with people or partying or just plain having fun. My school is difficult already, but somehow I think that having more freedom will put more pressure on me to  do better in school b/c that's what my parents and ultimately I expect of myself. Well it's been fun writing, I don't know if you go anything out of this writing, but it helped me get some of my thoughts into order. So I hope you had fun reading it and good luck TA's"
word = 'and'
tf_idf_val = tc.tf_idf(word, new_text)
print('{}的TF-IDF值为：{}'.format(word, tf_idf_val))
#结果：That的TF-IDF值为：0.02181644599700369

